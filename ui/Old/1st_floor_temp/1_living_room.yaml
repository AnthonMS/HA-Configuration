type: vertical-stack
cards:

################  Title  ################
  - type: custom:button-card
    show_label: true
    label: Living Room
    styles:
      card:
        - height: 20px
        - border-radius: "15px"
        - background-color: "rgba(65, 65, 65,0)"
        - box-shadow: "0px 6px 7px rgba(0,0,0,0)"
      label:
        - position: absolute
        - left: 15px
        - bottom: 0px
        - text-decoration: underline
        - font-weight: bold
        - font-size: 18px
        - line-height: 20px
    tap_action:
      action: call-service
      service: homeassistant.turn_off
      service_data:
        entity_id:
          - light.dinner_table_light
          - light.sofa_light
          - light.corner_lights
          - light.window_candles
          - light.sofa_table_candles
          - light.speaker_lights
          - input_boolean.living_room_fan_1
          - input_boolean.living_room_fan_2
          - input_boolean.living_room_fan_3

################  1ST ROW - Lights  ################
  - type: horizontal-stack
    cards:
###########  LEFT MARGIN  ###########
      - type: custom:button-card
        styles:
          card:
            - width: 0px
            - height: 100px
      
###########  Light Dinner Table Light  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          entity: light.dinner_table_light
          label: Dinner Table Light
          icon: bha:ceiling-lamp
          show_state: false
          show_name: false
          show_label: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (entity.state == "off") return "rgba(65, 65, 65,0.5)";
                    else return "rgba(255, 255, 255,0.3)";
                  ]]]
          #   custom_fields:
          #     notification:
          #       - background-color: "white"
          #       - border-radius: 50%
          #       - position: absolute
          #       - left: 60%
          #       - top: 10%
          #       - height: 20px
          #       - width: 20px
          #       - font-size: 8px
          #       - color: "black"
          #       - font-weight: bold
          #       - line-height: 20px
          # custom_fields:
          #   notification: >
          #     [[[ 
          #       if (entity.state == "on") return Math.round(entity.attributes.brightness/2.55);
          #     ]]]
          tap_action:
            action: toggle
          hold_action:
            action: more-info
        
###########  Light Sofa Light  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          entity: light.sofa_light
          label: Sofa Light
          icon: mdi:wall-sconce-flat
          show_state: false
          show_name: false
          show_label: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (entity.state == "off") return "rgba(65, 65, 65,0.5)";
                    else return "rgba(255, 255, 255,0.3)";
                  ]]]
            custom_fields:
              notification:
                - background-color: "white"
                - border-radius: 50%
                - position: absolute
                - left: 60%
                - top: 10%
                - height: 20px
                - width: 20px
                - font-size: 8px
                - color: "black"
                - font-weight: bold
                - line-height: 20px
          custom_fields:
            notification: >
              [[[ 
                if (entity.state == "on") return Math.round(entity.attributes.brightness/2.55);
              ]]]
          tap_action:
            action: toggle
          hold_action:
            action: more-info

            
        - type: custom:slider-card
          entity: light.sofa_light
          height: '30px'
          mainSliderColor: 'rgba(255, 255, 255,0.3)'
          secondarySliderColor: 'rgba(65, 65, 65, 0)'
          thumbWidth: '10px'
          thumbHeight: '30px'
          thumbColor: 'rgba(65, 65, 65,1)'
          thumbHorizontalPadding: '4px'
          thumbVerticalPadding: '5px'
          style: |
            ha-card {
              --ha-card-background: rgba(65, 65, 65, 0.5);
            }
        
###########  Light Corner Lights  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          entity: light.corner_lights
          label: Corner Lights
          icon: bha:floor-lamp
          show_state: false
          show_name: false
          show_label: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (entity.state == "off") return "rgba(65, 65, 65,0.5)";
                    else return "rgba(255, 255, 255,0.3)";
                  ]]]
            custom_fields:
              notification:
                - background-color: "white"
                - border-radius: 50%
                - position: absolute
                - left: 60%
                - top: 10%
                - height: 20px
                - width: 20px
                - font-size: 8px
                - color: "black"
                - font-weight: bold
                - line-height: 20px
          custom_fields:
            notification: >
              [[[ 
                if (entity.state == "on") return Math.round(entity.attributes.brightness/2.55);
              ]]]
          tap_action:
            action: toggle
          hold_action:
            action: more-info

        - type: custom:slider-card
          entity: light.corner_lights
          height: '30px'
          mainSliderColor: 'rgba(255, 255, 255,0.3)'
          secondarySliderColor: 'rgba(65, 65, 65, 0)'
          thumbWidth: '10px'
          thumbHeight: '30px'
          thumbColor: 'rgba(65, 65, 65,1)'
          thumbHorizontalPadding: '4px'
          thumbVerticalPadding: '5px'
          style: |
            ha-card {
              --ha-card-background: rgba(65, 65, 65, 0.5);
            }

###########  RIGHT MARGIN  ###########
      - type: custom:button-card
        styles:
          card:
            - width: 0px
            - height: 100px


################  2ND ROW - Lights  ################
  - type: horizontal-stack
    cards:
###########  LEFT MARGIN  ###########
      - type: custom:button-card
        styles:
          card:
            - width: 0px
            - height: 30px

###########  Light Speakers  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          entity: light.speaker_lights
          label: Speaker Lights
          icon: mdi:lamp
          show_state: false
          show_name: false
          show_label: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (entity.state == "off") return "rgba(65, 65, 65,0.5)";
                    else return "rgba(255, 255, 255,0.3)";
                  ]]]
            custom_fields:
              notification:
                - background-color: "white"
                - border-radius: 50%
                - position: absolute
                - left: 60%
                - top: 10%
                - height: 20px
                - width: 20px
                - font-size: 8px
                - color: "black"
                - font-weight: bold
                - line-height: 20px
          custom_fields:
            notification: >
              [[[ 
                if (entity.state == "on") return Math.round(entity.attributes.brightness/2.55);
              ]]]
          tap_action:
            action: toggle
          hold_action:
            action: more-info

        - type: custom:slider-card
          entity: light.speaker_lights
          height: '30px'
          mainSliderColor: 'rgba(255, 255, 255,0.3)'
          secondarySliderColor: 'rgba(65, 65, 65, 0)'
          thumbWidth: '10px'
          thumbHeight: '30px'
          thumbColor: 'rgba(65, 65, 65,1)'
          thumbHorizontalPadding: '4px'
          thumbVerticalPadding: '5px'
          style: |
            ha-card {
              --ha-card-background: rgba(65, 65, 65, 0.5);
            }

###########  Light Window Candles  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          entity: light.window_candles
          label: Candles Sofa Table
          icon: mdi:candle
          show_state: false
          show_name: false
          show_label: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (entity.state == "off") return "rgba(65, 65, 65,0.5)";
                    else return "rgba(255, 255, 255,0.3)";
                  ]]]
            custom_fields:
              notification:
                - background-color: "white"
                - border-radius: 50%
                - position: absolute
                - left: 60%
                - top: 10%
                - height: 20px
                - width: 20px
                - font-size: 8px
                - color: "black"
                - font-weight: bold
                - line-height: 20px
          custom_fields:
            notification: >
              [[[ 
                if (entity.state == "on") return Math.round(entity.attributes.brightness/2.55);
              ]]]
          tap_action:
            action: toggle
          hold_action:
            action: more-info

        - type: custom:slider-card
          entity: light.window_candles
          height: '30px'
          mainSliderColor: 'rgba(255, 255, 255,0.3)'
          secondarySliderColor: 'rgba(65, 65, 65, 0)'
          thumbWidth: '10px'
          thumbHeight: '30px'
          thumbColor: 'rgba(65, 65, 65,1)'
          thumbHorizontalPadding: '4px'
          thumbVerticalPadding: '5px'
          style: |
            ha-card {
              --ha-card-background: rgba(65, 65, 65, 0.5);
            }

###########  Light Window Candles  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          entity: light.sofa_table_candles
          label: Candles Window
          icon: mdi:candle
          show_state: false
          show_name: false
          show_label: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (entity.state == "off") return "rgba(65, 65, 65,0.5)";
                    else return "rgba(255, 255, 255,0.3)";
                  ]]]
            custom_fields:
              notification:
                - background-color: "white"
                - border-radius: 50%
                - position: absolute
                - left: 60%
                - top: 10%
                - height: 20px
                - width: 20px
                - font-size: 8px
                - color: "black"
                - font-weight: bold
                - line-height: 20px
          custom_fields:
            notification: >
              [[[ 
                if (entity.state == "on") return Math.round(entity.attributes.brightness/2.55);
              ]]]
          tap_action:
            action: toggle
          hold_action:
            action: more-info

        - type: custom:slider-card
          entity: light.sofa_table_candles
          height: '30px'
          mainSliderColor: 'rgba(255, 255, 255,0.3)'
          secondarySliderColor: 'rgba(65, 65, 65, 0)'
          thumbWidth: '10px'
          thumbHeight: '30px'
          thumbColor: 'rgba(65, 65, 65,1)'
          thumbHorizontalPadding: '4px'
          thumbVerticalPadding: '5px'
          style: |
            ha-card {
              --ha-card-background: rgba(65, 65, 65, 0.5);
            }

###########  RIGHT MARGIN  ###########
      - type: custom:button-card
        styles:
          card:
            - width: 0px
            - height: 30px



################  3RD ROW - Fan, TV, Other  ################
  - type: horizontal-stack
    cards:
###########  LEFT MARGIN  ###########
      - type: custom:button-card
        styles:
          card:
            - width: 0px
            - height: 30px

###########  Fan  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          label: Fan
          show_state: false
          show_name: false
          show_label: true
          icon: mdi:fan-off
          state:
            - operator: template
              value: >
                [[[
                  return states['input_boolean.living_room_fan_1'].state == "on"
                ]]]
              icon: mdi:fan-speed-1
              spin: true
            - operator: template
              value: >
                [[[
                  return states['input_boolean.living_room_fan_2'].state == "on"
                ]]]
              icon: mdi:fan-speed-2
              spin: true
            - operator: template
              value: >
                [[[
                  return states['input_boolean.living_room_fan_3'].state == "on"
                ]]]
              icon: mdi:fan-speed-3
              spin: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states['input_boolean.living_room_fan_1'].state == "on")
                      return "rgba(255, 255, 255,0.3";
                    else if (states['input_boolean.living_room_fan_2'].state == "on")
                      return "rgba(255, 255, 255, 0.3)";
                    else if (states['input_boolean.living_room_fan_3'].state == "on")
                      return "rgba(255, 255, 255, 0.3)";
                    else
                      return "rgba(65, 65, 65,0.5)";
                  ]]]
            icon:
              - color: >
                  [[[
                    if (states['input_boolean.living_room_fan_1'].state == "on")
                      return "rgba(255, 255, 255, 1)";
                    else if (states['input_boolean.living_room_fan_2'].state == "on")
                      return "rgba(255, 255, 255, 1)";
                    else if (states['input_boolean.living_room_fan_3'].state == "on")
                      return "rgba(255, 255, 255, 1)";
                    else
                      return "rgba(88, 88, 88, 1)";
                  ]]]
          tap_action:
            action: call-service
            service: script.toggle
            service_data:
              entity_id: script.loop_living_room_fan

###########  Television  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          label: Television
          icon: mdi:television
          show_state: false
          show_name: false
          show_label: true
          styles:
            card:
              - height: 100px
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states["media_player.living_room_tv"].state == "off") return "rgba(65, 65, 65,0.5)";
                    else if (states["media_player.living_room_tv"].state == "unavailable") return "rgba(65, 65, 65,0.5)";
                    else return "rgba(255, 255, 255,0.3)";
                  ]]]
            icon:
              - color: >
                  [[[
                    if (states["media_player.living_room_tv"].state == "off") return "rgba(88, 88, 88, 1)";
                    else if (states["media_player.living_room_tv"].state == "unavailable") return "rgba(88, 88, 88, 1)";
                    else return "rgba(255, 255, 255, 1)";
                  ]]]
          tap_action:
            action: call-service
            service: browser_mod.popup
            service_data:
              hide_header: true
              title: Television
              card: !include ../popups/television_living_room.yaml
              deviceID:
                - this

###########  Empty Space  ###########
      - type: vertical-stack
        cards:
        - type: custom:button-card
          styles:
            card:
              - background-color: rgba(255, 255, 255, 0)
              - box-shadow: "0px 0px 0px rgba(0,0,0,0)"
              - height: 100px

###########  RIGHT MARGIN  ###########
      - type: custom:button-card
        styles:
          card:
            - width: 0px
            - height: 30px