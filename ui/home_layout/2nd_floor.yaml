type: vertical-stack
cards:

  - type: custom:layout-card
    layout_type: grid

    layout_options:
      grid-template-columns: 108px 108px 108px 108px 108px 108px
      # grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
      grid-template-rows: auto
      grid-gap: 0px 2px
      mediaquery:
        "(max-width: 320px)": # Below 320px width
          grid-template-columns: 1fr 1fr 1fr
        "(max-width: 450px)": # Between 320 and 450px width
          grid-template-columns: 1fr 1fr 1fr 1fr
    cards:
        
###########  Light Bedroom Ceiling  ###########
      - type: vertical-stack
        cards:
        - type: custom:decluttering-card
          template: light_spots_homekit
          variables:
            - name: Bedroom
            - entity: light.bedroom_spots
            - card_height: 100px

###########  Slider Bedroom Spots  ###########
        - type: custom:decluttering-card
          template: slider_homekit
          variables:
            - entity: light.bedroom_spots

###########  Light Grono Lamp Office  ###########
      - type: vertical-stack
        cards:
        - type: custom:decluttering-card
          template: light_wled_homekit
          variables:
            - name: Desk Lamp
            - entity: light.grono_lamp_office
            - icon: mdi:desk-lamp
            - card_height: 100px

###########  Slider Grono Lamp Office  ###########
        - type: custom:decluttering-card
          template: slider_homekit
          variables:
            - entity: light.grono_lamp_office

            
################# Bedroom Blind #######################
      - type: custom:decluttering-card
        template: roller_shade_homekit
        variables:
          - entity: cover.bedroom_blind
      
      
###########  Computer  ###########
      - type: vertical-stack
        cards:
          - type: custom:button-card
            entity: switch.anthon_pc_wol
            icon: mdi:desktop-classic
            name: PC
            show_state: false
            show_name: true
            show_label: false
            styles: !include style-homekit-button.yaml
            custom_fields: 
              sd: >
                [[[
                  return `<span style="color: var(--text-color-sensor);"> ${ entity.state } </span>`;
                ]]]
            tap_action:
              action: fire-dom-event
              browser_mod:
                command: popup
                hide_header: true
                card: !include ../popups/computer.yaml
            hold_action:
              action: more-info
      
############# ALARM ##############
      - type: vertical-stack
        cards:
          - type: custom:button-card
            entity: input_boolean.anthon_alarm
            name: Alarm
            icon: mdi:alarm
            show_state: false
            show_name: true
            show_label: false
            styles: !include style-homekit-button.yaml
            custom_fields: 
              ram: >
                [[[
                  if (entity.state == "on") 
                    return `<span style="color: var(--text-color-sensor);"> ${ states['input_datetime.anthon_alarm'].attributes.hour }.${states['input_datetime.anthon_alarm'].attributes.minute} </span>`
                  else
                    return `<span style="color: var(--text-color-sensor);">-</span>`
                ]]]
              sd: >
                [[[
                  return `<span style="color: var(--text-color-sensor);"> ${ entity.state } </span>`;
                ]]]
            tap_action:
              action: fire-dom-event
              browser_mod:
                command: popup
                hide_header: true
                card: !include ../popups/alarm.yaml
            hold_action:
              action: toggle


###########  Television  ###########
      - type: vertical-stack
        cards:
          - type: custom:button-card
            entity: media_player.bedroom_tv
            name: Television
            icon: mdi:television
            show_state: false
            show_name: true
            show_label: false
            styles:
              card:
                - background-color: >
                    [[[
                      if (states["media_player.bedroom_tv"].state == "off") return "rgba(230, 230, 230, 0.5)";
                      else if (states["media_player.bedroom_tv"].state == "unavailable") return "rgba(230, 230, 230, 0.5)";
                      else return "rgba(255, 255, 255, 1)";
                    ]]]
                - border-radius: 15%
                - height: 100px
                - padding: 10%
                - color: ivory
                - font-size: 10px
                - text-shadow: 0px 0px 0px black
                - text-transform: capitalize
              grid:
                - grid-template-areas: '"i temp" "n n" "cpu cpu" "ram ram" "sd sd"'
                - grid-template-columns: 1fr 1fr
                - grid-template-rows: 1fr min-content min-content min-content min-content
              name:
                - font-weight: bold
                - font-size: 13px
                - color: white
                - align-self: middle
                - justify-self: start
                - padding-bottom: 4px
                - color: black
              img_cell:
                - justify-content: start
                - align-items: start
                - margin: none
              icon:
                - margin-top: -10%
                - width: 25px
                - color: >
                    [[[
                      if (states["media_player.bedroom_tv"].state == "off") return "rgba(88, 88, 88, 1)";
                      else if (states["media_player.bedroom_tv"].state == "unavailable") return "rgba(88, 88, 88, 1)";
                      else return "rgba(0, 255, 0, 1)";
                    ]]]
              custom_fields:
                ram:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                  - --text-color-sensor: black
                sd:
                  - align-self: middle
                  - justify-self: start
                  - --text-color-sensor: black
            custom_fields:
              ram: >
                [[[
                  return `<span style="color: var(--text-color-sensor);"> ${ states["media_player.bedroom_tv"].state } </span>`
                ]]]
            tap_action:
              action: more-info
                  
###########  Slider Bedroom TV  ###########
          - type: custom:slider-card
            entity: media_player.bedroom_tv
            height: '30px'
            mainSliderColor: 'rgba(255, 255, 255,0.3)'
            secondarySliderColor: 'rgba(65, 65, 65, 0)'
            thumbWidth: '10px'
            thumbHeight: '30px'
            thumbColor: 'rgba(65, 65, 65,1)'
            thumbHorizontalPadding: '4px'
            thumbVerticalPadding: '5px'
            style: |
              ha-card {
                --ha-card-background: rgba(65, 65, 65, 0.5);
              }